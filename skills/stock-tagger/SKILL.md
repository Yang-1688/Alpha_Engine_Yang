# 股票標籤分類系統 | Stock Tagger Skill

## 功能描述
為持股建立多維度標籤，便於後續篩選與分析。
支援：基本面標籤、技術面標籤、主題標籤、風險標籤。

## 標籤分類

### 📊 基本面標籤
| 標籤 | 說明 | 判斷條件 |
|------|------|----------|
| #低PB | 股價淨值比偏低 | PB < 1.5 |
| #高殖利率 | 殖利率 > 4% | Dividend Yield > 4% |
| #低PE | 本益比偏低 | PE < 15 |
| #轉機 | 營運谷底反彈 | 營收 YoY > 20% |

### 📈 技術面標籤
| 標籤 | 說明 | 判斷條件 |
|------|------|----------|
| #MA趨勢 | 均線多頭排列 | MA5 > MA10 > MA20 |
| #低基期 | 股價低於MA20 > 5% | Price < MA20 * 0.95 |
| #突破 | 放量突破壓力 | Volume > Avg * 1.5 + Price > Resistance |
| #強勢 | 漲幅 > 5% | Daily Change > 5% |

### 🎯 主題標籤
| 標籤 | 說明 | 適用產業 |
|------|------|----------|
| #AI概念 | 與AI相關 | 半導體、軟體、網路 |
| #綠能 | 環保/新能源 | 太陽能、風電、電動車 |
| #高股息 | 穩定配息 | 金融、公用事業 |
| #中國成長 | 受惠中國經濟 | 中概股、A股 |
| #美國基建 | 受惠基建政策 | 鋼鐵、水泥、重電 |

### ⚠️ 風險標籤
| 標籤 | 說明 | 判斷條件 |
|------|------|----------|
| #高波動 | 波動率 > 30% | Daily Volatility > 30% |
| #高槓桿 | 負債比 > 60% | Debt Ratio > 60% |
| #流動性低 | 成交量 < 1M | Daily Volume < 1M |

## 使用方式

```python
from skills.stock_tagger import StockTagger

# 初始化標籤系統
tagger = StockTagger()

# 為持股加上標籤
tags = tagger.get_stock_tags("2330.TW", "台積電", market="台股")
print(tags)  # ['#AI概念', '#MA趨勢', '#高市值']

# 篩選特定標籤的股票
filtered = tagger.filter_by_tags(all_stocks, ["#低PB", "#轉機"])

# 取得標籤統計
stats = tagger.get_tag_stats(all_stocks)
```

## 標籤組合範例

### 🟢 選股策略
| 策略 | 標籤組合 |
|------|----------|
| 價值投資 | #低PB + #高殖利率 + #低PE |
| 成長股 | #轉機 + #MA趨勢 + #AI概念 |
| 景氣循環 | #低基期 + #突破 + #美國基建 |
| 高股息 | #高股息 + #低波動 + #高殖利率 |

### 🔴 規避標籤
| 風險 | 標籤組合 |
|------|----------|
| 不要碰 | #高波動 + #流動性低 + #高槓桿 |
| 謹慎操作 | #高估值 + #中國成長 |

## 輸出格式
每個標籤包含：
- 標籤名稱 (如 #低PB)
- 判斷分數 (0-100)
- 佐證數據 (PB值、均線狀態等)

## 與 OpenClaw 整合

在快報中使用：
```bash
# 產生帶標籤的持股快報
python3 daily_report_v2.py --portfolio --tags

# 只顯示特定標籤
python3 daily_report_v2.py --portfolio --filter "#低PB"
```

## 更新日誌
- 2026-02-11: 初始版本，建立標籤分類框架
